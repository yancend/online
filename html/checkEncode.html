<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>

    <title></title>
    <script type="text/javascript" src="lib/jquery-1.5.1.js"></script>
    <script type="text/javascript" src="./config.js"></script>
    <script type="text/javascript" src="./js/helpers.js"></script>
</head>

<body>
<p>checkEncode</p>
<button onclick="checkDetail()" style="float:left;"> 检测</button>
<div id='result' style="display: none"><p></p></div>

<button id='nextButton' disabled="disabled" onClick="nextStep();">下一步    </button>

<button id='rollbackButton'  onClick="rollback(0);">未通过    </button>
</body>
<script type="text/javascript">

    //todo 从配置设默认值
    function defaultFunction(){

    }
    defaultFunction();
    function checkDetail() {

        var ws = {};
        ws['basePath']= Config["basePath_dist"];
        var  failMsg = "grunt调用异常 !";
        $.ajax( {
            url:"php/checkEncode.php",
            type:'post',
            data:ws,
            success:function ( msg ) {
                if (!msg ) {//没有返回结果或者返回false
                    //todo
//                    $("#result").attr('style',"display: block");
//                    $("#result").text(failMsg);
                    return;
                }
                else {
debugger
                    $("#nextButton").attr('disabled', "");
//                    checkFiles();
//                    var a=new   ActiveXObject("wscript.shell");
//                    a.run("C:/Users/dongyancen/AppData/Local/Google/Chrome/chrome.exe http://localhost/");
//                    $("#result").attr('style',"display: block");
//                    $("#result").text("");
                }

            },
            error:function ( xhr, msg ) {
                alert( "error 2");
            }
        } );
    }

    //todo 加一个能点开bat直接编辑的按钮
</script>
</html>